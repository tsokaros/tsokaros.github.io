{% assign repo_url = include.repository | split: '/' %}

{% if include.repository contains "http" %}
  <!-- Case 2: External URL with custom image -->
  <div class="repo p-2 text-center">
    <a href="{{ include.repository }}" target="_blank">
      <img class="repo-img w-100" alt="External site" src="{{ include.image }}">
    </a>
  </div>
{% else %}
  <!-- Case 1: GitHub Repository -->
  <div class="repo p-2 text-center">
    <a href="https://github.com/{{ include.repository }}">
      <img class="repo-img-light w-100" alt="{{ include.repository }}" src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_light }}&show_owner=true">
      <img class="repo-img-dark w-100" alt="{{ include.repository }}" src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_dark }}&show_owner=true">
    </a>
  </div>
{% endif %}