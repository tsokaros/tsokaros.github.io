{% assign repo_url = include.repository | split: '/' %}

{% if include.repository contains "http" %}
  <!-- External Site (Not GitHub Repo) -->
  <div class="repo p-2 text-center">
    <a href="{{ include.repository }}" target="_blank">
      <img class="repo-img-light w-100" alt="Site Preview" src="{{ include.image | default: '/assets/img/1.png' }}">
      <img class="repo-img-dark w-100" alt="Site Preview" src="{{ include.image_dark | default: include.image | default: '/assets/img/1.png' }}">
      <p class="mt-2">{{ include.title | default: "Visit Site" }}</p>
    </a>
  </div>
{% else %}
  <!-- GitHub Repo -->
  {% if site.data.repositories.github_users contains repo_url.first %}
    {% assign show_owner = false %}
  {% else %}
    {% assign show_owner = true %}
  {% endif %}

  <div class="repo p-2 text-center">
    <a href="https://github.com/{{ include.repository }}" target="_blank">
      <img class="repo-img-light w-100" alt="{{ include.repository }}" src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_light }}&show_owner={{ show_owner }}">
      <img class="repo-img-dark w-100" alt="{{ include.repository }}" src="https://github-readme-stats.vercel.app/api/pin/?username={{ repo_url[0] }}&repo={{ repo_url[1] }}&theme={{ site.repo_theme_dark }}&show_owner={{ show_owner }}">
    </a>
  </div>
{% endif %}